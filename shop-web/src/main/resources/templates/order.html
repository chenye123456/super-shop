<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>17商城</title>
 <link type="text/css" th:href="@{/css/css.css}" href="../static/css/css.css" rel="stylesheet"/>
 <script type="text/javascript" th:src="@{/js/jquery.js}" src="../static/js/jquery.js"></script>
 <script type="text/javascript" th:src="@{/js/js.js}" src="../static/js/js.js"></script>
 <script src="../static/js/wb.js" th:src="@{/js/wb.js}" type="text/javascript" charset="utf-8"></script>
</head>

<body>
 <div class="mianCont">
  <div class="top">
   <label th:if="${session.uaccount == null}">
    <span>您好！欢迎来到17商城 请&nbsp;<a href="login.html">[登录]</a>&nbsp;<a href="reg.html">[注册]</a></span>
   </label>
   <label th:if="${session.uaccount != null}">
    <span><label th:text="${session.uaccount}"></label>,您好！欢迎来到17商城</span>
   </label>
   <span class="topRight">
    <a href="vip.html">我的17</a>&nbsp;| 
    <a href="order.html">我的订单</a>&nbsp;| 
    <a href="login.html">会员中心</a>&nbsp;|
    <a href="contact.html">联系我们</a>
   </span>
  </div><!--top/-->
  <div class="lsg">
   <h1 class="logo"><a href="toindex"><img th:src="@{/images/logo.png}" width="217" height="90" /></a></h1>
   <form action="#" method="get" class="subBox">
    <div class="subBoxDiv">
     <input type="text" class="subLeft" />
     <input type="image" th:src="@{/images/subimg.png}" width="63" height="34" class="sub" />
     <div class="hotWord">
      热门搜索：
      <a href="proinfo.html">冷饮杯</a>&nbsp;
      <a href="proinfo.html">热饮杯</a> &nbsp;
      <a href="proinfo.html">纸杯</a>&nbsp;
      <a href="proinfo.html">纸巾</a>  &nbsp;
      <a href="proinfo.html">纸巾</a> &nbsp;
      <a href="proinfo.html">纸杯</a>&nbsp;
     </div><!--hotWord/-->
    </div><!--subBoxDiv/-->
   </form><!--subBox/-->
   <div class="gouwuche">
    <div class="gouCar">
     <img th:src="@{/images/gouimg.png}" width="19" height="20" style="position:relative;top:6px;" />&nbsp;|&nbsp;
     <strong class="red">0</strong>&nbsp;件&nbsp;|
     <strong class="red">￥ 0.00</strong>
     <a href="ToShopCar">去结算</a> <img th:src="@{/images/youjian.jpg}" width="5" height="8" />
    </div><!--gouCar/-->

   </div><!--gouwuche/-->
  </div><!--lsg/-->
  <div class="pnt">
   <div class="pntLeft">
    <h2 class="Title">所有商品分类
     <ul class="InPorNav">
      <label th:each="goodsType : ${session.goodsTypePojos}">
       <li><a href="ToProductPage" th:text="${goodsType.tname}">纸杯系列</a>
        <div class="chilInPorNav" >
         <label th:each="gtype : ${session.gtlist}">
          <label th:if="${gtype.pid} == ${goodsType.tid}">
           <a href="#" th:text="${gtype.tname}">单层热饮杯</a>
          </label>
         </label>
        </div><!--chilLeftNav/-->
       </li>
      </label>
    </ul><!--InPorNav/-->
    </h2>
   </div><!--pntLeft/-->
   <div class="pntRight">
    <ul class="nav">
     <li><a href="toindex">商城首页</a></li>
     <li><a href="ToProductPage">商品中心</a></li>
     <li><a href="login.html">会员中心</a></li>
     <li class="navCur"><a href="ToHelpPage">帮助中心</a></li>
     <div class="clears"></div>
     <div class="phone">TEL：021-12345678</div>
    </ul><!--nav/-->
   </div><!--pntRight/-->
   <div class="clears"></div>
  </div><!--pnt/-->
  <div class="positions">
   当前位置：<a href="toindex">首页</a> &gt; <a href="#" class="posCur">购物车</a>
  </div><!--positions/-->
  <div class="cont">
   <div class="carImg"><img th:src="@{/images/car1.jpg}" width="951" height="27" /></div>
   <table class="orderList">
    <tr>
     <th width="20"></th>
     <th width="430">商品</th>
     <th width="135">单价</th>
     <th width="135">数量</th>
     <th width="135">总金额</th>
     <th>操作</th>
    </tr>

    <tr th:each="shopCar:${list}">
     <td><input type="checkbox" name="checkAll" th:value="@{${shopCar.gid}}"/></td>
     <td><img th:src="@{${shopCar.gimage}}" width="85" height="85" /></td>
     <td th:text="${shopCar.gprice}"></td>
     <td th:text="${shopCar.cnum}"></td>
     <td th:text="${shopCar.ctotal}"></td>
     <td><a href="javascript:void(0)" onclick="add(this)" th:cid="${shopCar.cid}">增加</a><br />
         <a href="javascript:void(0)" onclick="reduce(this)" th:cid="${shopCar.cid}">减少</a>
      <a href="javascript:void(0)" onclick="deleteOne(this)" th:cid="${shopCar.cid}">删除</a></td>
    </tr>

<!--    <tr>-->
<!--     <td><input type="checkbox" /></td>-->
<!--     <td>-->
<!--      <dl>-->
<!--       <dt><a href="proinfo.html"><img th:src="@{/images/pro1.jpg}" width="85" height="85" /></a></dt>-->
<!--       <dd>全球最大的中文搜索引擎、致力于让网民更便捷<br /><span class="red">有货：</span>从上海出发</dd>-->
<!--       <div class="clears"></div>-->
<!--      </dl>-->
<!--     </td>-->
<!--     <td><strong class="red">￥70.20</strong></td>-->
<!--     <td>-->
<!--     <div class="jia_jian">-->
<!--      <img src="images/jian.jpg}" width="21" height="25" class="jian" />-->
<!--      <input type="text" class="shuliang" value="1" />-->
<!--      <img th:src="@{/images/jia.jpg}" width="21" height="25" class="jia" />-->
<!--     </div>-->
<!--     </td>-->
<!--     <td><strong class="red">￥70.20</strong></td>-->
<!--     <td><a href="#" class="green">收藏</a><br /><a href="#" class="green">删除</a></td>-->
<!--    </tr>-->

    <tr>
     <td colspan="6"><div class="shanchu" onclick="deleteAll()" ><img th:src="@{/images/lajio.jpg}" /> 全部删除</div></td>
    </tr>
   </table><!--orderList/-->
   <div class="zongji">
    总计(不含运费)：<strong class="red">￥70.42</strong>
   </div><!--zongji/-->
   <div class="jiesuan">
    <a href="ToProductPage" class="jie_1">继续购物&gt;&gt;</a>
    <a href="javascript:void(0)" class="jie_2" onclick="jiesuan()">立即结算&gt;&gt;</a>
    <div class="clears"></div>
   </div><!--jiesuan/-->
   <div class="clears"></div>
  </div><!--cont/-->
  <div class="inHelp">
   <div class="inHLeft">
    <h4>帮助中心</h4>
    <ul class="inHeList">
     <li><a href="ToHelpPage">购物指南</a></li>
     <li><a href="ToHelpPage">支付方式</a></li>
     <li><a href="ToHelpPage">售后服务</a></li>
     <li><a href="about.html">企业简介</a></li>
     <div class="clears"></div>
    </ul><!--inHeList/-->
   </div><!--inHLeft/-->
   <div class="inHLeft">
    <h4>会员服务</h4>
    <ul class="inHeList">
     <li><a href="register">会员注册</a></li>
     <li><a href="login">会员登录</a></li>
     <li><a href="ToShopCar">购物车</a></li>
     <li><a href="order.html">我的订单</a></li>
     <div class="clears"></div>
    </ul><!--inHeList/-->
   </div><!--inHLeft/-->
   <div class="inHRight">
    <h4>全国统一免费服务热线</h4>
    <div class="telBox">400-0000-0000</div>
    <div class="weibo">
    <wb:follow-button uid="2991975565" type="red_1" width="67" height="24" ></wb:follow-button>
    </div>
   </div><!--inHRight/-->
   <div class="clears"></div>
  </div><!--inHelp/-->
  <div class="footer">
   <p>
   <a href="#">进入17官网</a>&nbsp;|&nbsp;
   <a href="toindex">商城首页</a>&nbsp;|&nbsp;
   <a href="ToProductPage">商品中心</a>&nbsp;|&nbsp;
   <a href="order.html">我的订单</a>&nbsp;|&nbsp;
   <a href="new.html">新闻动态</a>&nbsp;|&nbsp;
   <a href="login.html">会员中心</a>&nbsp;|&nbsp;
   <a href="ToHelpPagel">帮助中心</a>
   </p>
   <p>
    版权所有：8000W项目商城 版权所有  Copyright 2015-2020   沪ICP备00000000号
   </p>
  </div><!--footer/-->
 </div><!--mianCont/-->
 <a href="#" class="backTop">&nbsp;</a>
</body>
   <script>
    <!--购物车中商品数量加一-->
     function add(objInfo) {
        var cid=$(objInfo).attr("cid");

        $.ajax({
              type:"post",
              url:"addOne",
              data:{"cid":cid},
              success(data){
               location.reload();
              }
      })
     }

      <!--购物车中数量减少-->
     function reduce(objInfo) {
         var cid=$(objInfo).attr("cid");

         $.ajax({
               type: "post",
               url: "reduceOne",
               data: {"cid":cid},
               success(data) {
                location.reload();
               }
         })
     }

    <!--删除购物车中某个商品-->
     function deleteOne(objInfo) {
      var cid=$(objInfo).attr("cid");

      $.ajax({
       type: "post",
       url: "deleteOne",
       data: {"cid":cid},
       success(data) {
        location.reload();
       }
      })
     }

     function deleteAll() {

      var msg = "您确定要删除所有商品吗？";
      if (confirm(msg)==true){
       $.ajax({
        type: "post",
        url: "deleteAll",
        success(data) {
         location.reload();
        }
       })
      }else{
       return false;
      }

     }
     
     function jiesuan() {
       obj = document.getElementsByName("checkAll");
       check_val = [];
       for(k in obj){
        if(obj[k].checked)
         check_val.push(obj[k].value);
       }
       alert(check_val);
      window.location.href = "ToSureBuy?checked="+check_val;

     }




   </script>

</html>
